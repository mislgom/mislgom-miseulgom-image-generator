# 🐻 미슬곰 이미지 생성기 - 완전 설치 및 사용 가이드

## 📋 목차
0. [웹사이트 전체 기능 소개](#0-웹사이트-전체-기능-소개)
1. [현재 진행 상황](#1-현재-진행-상황)
2. [Forge 설치 완료하기](#2-forge-설치-완료하기)
3. [필수 모델 다운로드 및 배치](#3-필수-모델-다운로드-및-배치)
4. [Forge 실행 및 모델 로딩 확인](#4-forge-실행-및-모델-로딩-확인)
5. [웹사이트와 연결 및 자동 모델 전환 설정](#5-웹사이트와-연결-및-자동-모델-전환-설정)
6. [첫 이미지 생성 테스트](#6-첫-이미지-생성-테스트)
7. [고급 설정 (선택)](#7-고급-설정-선택)
8. [문제 해결](#8-문제-해결)
9. [일상 사용 워크플로우](#9-일상-사용-워크플로우)
10. [성능 최적화 팁](#10-성능-최적화-팁)
11. [체크리스트](#11-체크리스트)
12. [자주 묻는 질문 (FAQ)](#12-자주-묻는-질문-faq)
13. [추가 리소스](#13-추가-리소스)
14. [연락처 및 지원](#14-연락처-및-지원)

---

## 0. 웹사이트 전체 기능 소개

### 🎯 미슬곰 이미지 생성기란?

```
📍 웹사이트: https://mislgom-miseulgom-image-generator.vercel.app/

💡 한 문장 요약:
"유튜브 영상 대본을 입력하면 AI가 자동으로 스토리보드 이미지를 생성해주는 완전 무료 도구"
```

### 🎨 핵심 기능 8가지

#### 1️⃣ 대본 입력 및 분석
```
📝 대본 관리:
- 파트별 대본 입력: Intro(콜드오픈) + Part 1~10
- 각 파트당 최대 10,000자 입력 가능
- TXT 파일 드래그 앤 드롭 업로드
- 파트 수 동적 선택 (1~10개)

🤖 AI 분석 (Gemini API):
- 등장인물 자동 추출 (이름, 외형, 특징)
- 장면 수 자동 계산 (Visual Trigger Rule)
- 한글/영문 이름 자동 생성
- JSON 강제 모드로 정확도 향상
```

#### 2️⃣ 등장인물 이미지 생성
```
👥 등장인물 관리:
- AI가 추출한 등장인물 목록 표시
- 각 등장인물 이미지 자동 생성
- 인종 선택: 한국인, 일본인, 서양인, 흑인
- 비율 선택: 1:1 (정사각형), 16:9 (가로), 9:16 (세로)
- 이미지 수정: img2img, 프롬프트 기반 수정
- 개별 이미지 재생성, 다운로드
```

#### 3️⃣ 스토리보드 생성
```
🎬 스토리보드 관리:
- 대본을 장면별로 자동 분할
- 각 장면마다 이미지 자동 생성
- 파트별 필터링 (Intro/Part 1-10)
- 장면 수 조절 (최소/중요/전체)
- 이미지 수정, 재생성, 삭제
- 히스토리 버전 관리 (수정 전/후)
```

#### 4️⃣ 9가지 이미지 스타일
```
🎨 스타일 종류:

한국 야담 (4종):
1. 고퀄리티 웹툰 - 선명한 색감, 깔끔한 선
2. 동화 일러스트 - 따뜻한 파스텔톤
3. 전통 수묵화 - 붓터치 수묵담채화
4. 심플 2D 만화 - 친숙한 학습만화 풍

일본 애니 (2종):
5. 감성 애니메이션 - 신카이 마코토 풍 서정적 스타일
6. 극화체 애니메이션 - 귀멸의 칼날 풍 역동적 연출

실사/영화 (3종):
7. 다큐멘터리 포토 - 자연스러운 현실감
8. 영화 실사 - 시네마틱 조명과 연출
9. 판타지/SF - 초현실적 3D 렌더링

💡 자동 모델 전환:
- 일반 스타일: Juggernaut XL v9 사용
- 애니 스타일: Animagine XL v3.1 자동 전환
```

#### 5️⃣ 이미지 수정 및 편집
```
✏️ 수정 기능:
- img2img: 기존 이미지 기반 수정
- 프롬프트 추가: "더 밝게", "배경을 바다로"
- 한글 지원: 한글로 수정 요청 가능
- 히스토리: 수정 전/후 버전 관리
- 비교 모드: 여러 이미지 비교 (최대 4개)
```

#### 6️⃣ 프로젝트 관리
```
💾 저장 및 백업:
- LocalStorage 자동 저장 (3초마다)
- JSON 파일 내보내기/가져오기
- 마지막 프로젝트 자동 복원
- 다크 모드 지원
- 프로젝트 이름 변경
```

#### 7️⃣ 다운로드 기능
```
📥 내보내기:

이미지 다운로드:
- 개별 이미지 다운로드
- 전체 이미지 ZIP 다운로드
- 등장인물 이미지 묶음 다운로드
- 스토리보드 이미지 묶음 다운로드

엑셀 다운로드:
- 이미지 자동 삽입 (셀에 삽입)
- 프롬프트 자동 줄바꿈 (가독성)
- 장면별 데이터 정리
- 타임스탬프 파일명
```

#### 8️⃣ 고급 설정
```
⚙️ 세부 설정:

해상도 선택:
- 1:1 (1024x1024) - 정사각형
- 16:9 (1344x768) - 유튜브 가로 영상
- 9:16 (768x1344) - 숏폼 세로 영상

인종 선택:
- 한국인: korean, asian features
- 일본인: japanese, asian features
- 서양인: caucasian, western features
- 흑인: african, dark skin

ADetailer 얼굴 보정:
- YOLOv8 자동 얼굴 인식
- 얼굴 디테일 향상
- 눈/코/입 자동 보정
```

### 📊 왜 두 개의 모델을 설치해야 하나요?

```
🎨 모델 역할:

1️⃣ Juggernaut XL v9 (필수)
   역할: 기본 만능 모델
   스타일: 웹툰, 동화, 수묵화, 2D 만화, 실사, 다큐, 영화, SF (7종)
   품질: ⭐⭐⭐⭐☆ (애니는 70-80점)
   
2️⃣ Animagine XL v3.1 (애니 전용)
   역할: 애니메이션 특화 모델
   스타일: 감성 애니, 극화체 애니 (2종)
   품질: ⭐⭐⭐⭐⭐ (애니는 90-95점)

🤖 자동 전환:
웹사이트에서 스타일을 선택하면:
- 웹툰/동화/실사 등 선택 → Juggernaut XL 사용
- 감성 애니/극화체 애니 선택 → Animagine XL 자동 전환!

💡 비유:
- Juggernaut XL = 만능 붓 (모든 그림 그릴 수 있음)
- Animagine XL = 애니 전용 붓 (애니만 최고 품질)

결론:
두 모델을 모두 설치하면 9가지 스타일 모두 최고 품질로 사용 가능!
```

### 🔄 워크플로우 (전체 흐름)

```
1단계: 대본 입력
   └─> TXT 파일 업로드 또는 직접 입력

2단계: 대본 분석 (Gemini API)
   ├─> 등장인물 자동 추출
   └─> 장면 수 자동 계산

3단계: 등장인물 이미지 생성
   ├─> 스타일 선택 (9종)
   ├─> 인종/비율 선택
   └─> AI 이미지 생성 (Stable Diffusion)

4단계: 스토리보드 생성
   ├─> 장면별 이미지 생성
   ├─> 파트별 관리
   └─> 이미지 수정/재생성

5단계: 다운로드
   ├─> 이미지 ZIP 다운로드
   └─> 엑셀 다운로드 (이미지 삽입)
```

### 💰 비용

```
✅ 완전 무료:
- 웹사이트 호스팅: Vercel (무료)
- 이미지 생성: 내 컴퓨터 GPU (무료, 무제한)
- Stable Diffusion: 오픈소스 (무료)

⚠️ 선택적 비용:
- Gemini API: 월 1,500회 무료 (대본 분석용)
  → 넘으면 규칙 기반 분석으로 자동 전환 (무료)

💡 결론:
전기세 외에는 완전 무료로 무제한 사용 가능!
```

---

## 1. 현재 진행 상황

### ✅ 완료된 것:
- [x] 웹사이트 배포 (https://mislgom-miseulgom-image-generator.vercel.app/)
- [x] Stability Matrix 설치
- [x] Juggernaut XL 모델 다운로드 중
- [x] Forge 설치 중 (또는 시작 예정)

### ⏳ 남은 작업:
- [ ] Forge 설치 완료 대기
- [ ] Juggernaut XL 모델 배치 (6-7GB)
- [ ] Animagine XL 모델 다운로드 및 배치 (6-7GB) ← 필수!
- [ ] Forge 실행 및 두 모델 로딩 확인
- [ ] API 활성화 및 CORS 설정
- [ ] 웹사이트 연결 테스트
- [ ] 기본 이미지 생성 테스트 (웹툰 스타일)
- [ ] 애니메이션 이미지 테스트 (자동 모델 전환 확인)

---

## 2. Forge 설치 완료하기

### 2.1 Stability Matrix에서 Forge 설치

```
📍 위치: Stability Matrix 프로그램

1. Stability Matrix 실행
2. 왼쪽 메뉴에서 "Packages" 클릭
3. 우측 상단 "Add Package" 버튼 클릭
4. 목록에서 "Stable Diffusion WebUI Forge" 선택
5. 설치 위치 확인 (기본값 권장)
   예: C:\StabilityMatrix\Packages\stable-diffusion-webui-forge
6. "Install" 버튼 클릭
7. 설치 진행 (10-20분 소요)
```

### 2.2 설치 완료 확인

```
✅ 완료 표시:
- Packages 탭에 "Forge" 카드가 나타남
- 상태: "Installed" 표시
- "Launch" 버튼 활성화됨
```

---

## 3. 필수 모델 다운로드 및 배치

### 3.1 필요한 모델 2가지

```
🎨 모델 종류:

1. Juggernaut XL v9 (필수)
   - 용도: 모든 스타일의 기본 모델
   - 스타일: 실사, 웹툰, 동화, 수묵화, 2D 만화, 다큐멘터리, 영화, SF
   - 크기: 약 6-7GB
   - 다운로드: https://civitai.com/models/133005

2. Animagine XL v3.1 (강력 권장)
   - 용도: 애니메이션 전용 고품질 모델
   - 스타일: 감성 애니메이션, 극화체 애니메이션
   - 크기: 약 6-7GB
   - 다운로드: https://civitai.com/models/260267
   - 우리 웹사이트가 애니 스타일 선택 시 자동으로 이 모델로 전환!

⚠️ 두 모델 모두 다운로드하는 것을 강력히 권장합니다!
```

### 3.2 Juggernaut XL 다운로드

```
📍 CivitAI에서 다운로드:

1. 브라우저에서 https://civitai.com/models/133005 접속
2. "Download" 버튼 클릭
3. 로그인 필요 시 무료 회원가입
4. 파일 선택:
   - "Juggernaut XL V9 + RunDiffusion Photo"
   - 또는 최신 버전 선택
5. 다운로드 시작 (6-7GB, 5-10분 소요)
6. 저장 위치: C:\Users\사용자명\Downloads\
```

### 3.3 Animagine XL 다운로드

```
📍 CivitAI에서 다운로드:

1. 브라우저에서 https://civitai.com/models/260267 접속
2. "Download" 버튼 클릭
3. 파일 선택:
   - "Animagine XL 3.1"
   - 최신 버전 선택
4. 다운로드 시작 (6-7GB, 5-10분 소요)
5. 저장 위치: C:\Users\사용자명\Downloads\

💡 팁: 두 모델을 동시에 다운로드할 수 있습니다!
```

### 3.4 다운로드한 모델 파일 확인

```
📂 다운로드 폴더에 2개 파일 확인:

C:\Users\사용자명\Downloads\
  ├─ juggernautXL_v9.safetensors (약 6.5GB)
  └─ animagineXL_v31.safetensors (약 6.5GB)

⚠️ 주의:
- 파일 확장자가 .safetensors 여야 함
- .part 또는 .crdownload는 다운로드 미완성 (기다리세요)
- 파일 크기가 6GB 이상이어야 정상
```

### 3.5 모델 파일을 Forge 폴더로 이동 (중요!)

```
📍 복사할 위치:

원본 위치:
C:\Users\사용자명\Downloads\juggernautXL_v9.safetensors

목적지:
C:\StabilityMatrix\Packages\stable-diffusion-webui-forge\models\Stable-diffusion\

⚠️ 주의: "복사"가 아니라 "이동" 또는 "잘라내기-붙여넣기" 권장 (용량 절약)
```

### 3.5 모델 파일을 Forge 폴더로 이동 (중요!)

```
📍 방법 1: 수동으로 이동 (직접 복사)

원본 위치:
C:\Users\사용자명\Downloads\
  ├─ juggernautXL_v9.safetensors
  └─ animagineXL_v31.safetensors

목적지 (둘 다 같은 폴더):
C:\StabilityMatrix\Packages\stable-diffusion-webui-forge\models\Stable-diffusion\

작업:
1. 파일 탐색기에서 Downloads 폴더 열기
2. 두 .safetensors 파일 선택 (Ctrl 누르고 클릭)
3. 우클릭 → "잘라내기" (또는 Ctrl+X)
4. 목적지 폴더로 이동
5. 우클릭 → "붙여넣기" (또는 Ctrl+V)
6. 이동 완료될 때까지 대기 (각 6GB씩이므로 1-2분 소요)

⚠️ 주의: "복사"가 아니라 "이동" 또는 "잘라내기" 권장!
   (같은 파일이 중복 저장되면 13GB 낭비)
```

### 3.6 Stability Matrix를 통한 자동 배치 (더 쉬운 방법!)

```
📍 Stability Matrix 사용 (권장):

Juggernaut XL 등록:
1. Stability Matrix 열기
2. 상단 "Models" 탭 클릭
3. 우측 상단 "Import Model" 버튼 클릭
4. "Import from File" 선택
5. 다운로드한 juggernautXL_v9.safetensors 파일 선택
6. 설정:
   - Package: "Forge" 선택
   - Model Type: "Stable Diffusion" 선택
   - Subfolder: "Stable-diffusion" (자동 선택됨)
7. "Import" 클릭
8. 이동 완료 대기

Animagine XL 등록 (같은 방법 반복):
1. "Import Model" 버튼 다시 클릭
2. "Import from File" 선택
3. animagineXL_v31.safetensors 파일 선택
4. 설정:
   - Package: "Forge" 선택
   - Model Type: "Stable Diffusion" 선택
5. "Import" 클릭

✅ 자동으로 올바른 폴더에 배치됩니다!
✅ 중복 저장 방지!
```

### 3.7 모델 등록 확인

```
✅ 확인 방법:

1. 파일 탐색기에서 확인:
   C:\StabilityMatrix\Packages\stable-diffusion-webui-forge\models\Stable-diffusion\
   
   이 폴더에 2개 파일이 있어야 함:
   ├─ juggernautXL_v9.safetensors (6-7GB)
   └─ animagineXL_v31.safetensors (6-7GB)

2. Stability Matrix에서 확인:
   - "Models" 탭 클릭
   - 왼쪽 필터: "Stable Diffusion" 선택
   - 목록에 2개 모델 표시되어야 함
   
❌ 파일이 없으면:
   → 3.5 또는 3.6 단계를 다시 진행하세요
```

---

## 4. Forge 실행 및 모델 로딩 확인

### 4.1 Forge 첫 실행

```
📍 Stability Matrix에서:

1. 왼쪽 메뉴 "Packages" 탭 클릭
2. "Forge" 카드 찾기
3. 우측 하단 "Launch" 버튼 클릭
4. 콘솔 창(검은 화면)이 열리며 초기화 시작
   - "Loading weights..." 메시지 표시
   - 모델 로딩 중 (첫 실행 시 1-3분 소요)
5. 완료 메시지:
   - "Running on local URL: http://127.0.0.1:7860"
   - "Startup time: XX seconds"
6. 브라우저가 자동으로 열림 (http://localhost:7860)

⏱️ 소요 시간:
- 첫 실행: 2-3분 (모델 로딩)
- 이후 실행: 30초-1분
```

### 4.2 Forge 브라우저 화면 확인

```
✅ 정상 실행 시:

브라우저에 다음 화면이 보여야 함:
- 상단: txt2img, img2img, Extras 등 탭
- 좌측: 프롬프트 입력란
- 우측: 설정 패널
- 맨 위: "Stable Diffusion checkpoint" 드롭다운

Checkpoint 드롭다운 클릭 확인:
✅ juggernautXL_v9.safetensors 보임
✅ animagineXL_v31.safetensors 보임

❌ 모델이 안 보이면:
→ 3.7 "모델 등록 확인" 단계로 돌아가세요
```

### 4.3 기본 모델 선택

```
📍 Forge 브라우저 화면에서:

1. 상단 "Stable Diffusion checkpoint" 드롭다운 클릭
2. "juggernautXL_v9.safetensors" 선택
3. 모델 전환 중... (10-20초 소요)
4. 완료 메시지: "Model loaded in X.Xs"

💡 이제 Juggernaut XL이 기본 모델로 로드되었습니다!
💡 우리 웹사이트가 필요 시 자동으로 Animagine XL로 전환합니다!
```

### 4.4 API 활성화 (필수!)

```
⚠️ 중요: 웹사이트와 연결하려면 API를 활성화해야 합니다!

방법 1: webui-user.bat 수정 (권장)

1. Forge 종료 (콘솔 창 닫기)
2. 파일 탐색기 열기
3. 경로 이동:
   C:\StabilityMatrix\Packages\stable-diffusion-webui-forge\
4. "webui-user.bat" 파일 찾기
5. 우클릭 → "편집" 또는 메모장으로 열기
6. 다음 줄 찾기:
   set COMMANDLINE_ARGS=
7. 다음으로 수정:
   set COMMANDLINE_ARGS=--api --cors-allow-origins=*
8. 저장 후 닫기
9. Stability Matrix에서 Forge 다시 실행

방법 2: Stability Matrix 설정

1. Packages 탭
2. Forge 카드 우클릭 → "Edit Launch Options"
3. "Extra Launch Arguments" 항목에 입력:
   --api --cors-allow-origins=*
4. "Save" 클릭
5. Forge 재실행
```

### 4.3 API 활성화 확인

```
✅ 확인 방법:

1. 브라우저에서 다음 주소 입력:
   http://localhost:7860/docs

2. Swagger API 문서 페이지가 열리면 성공!
   - "FastAPI" 제목 보임
   - "/sdapi/v1/txt2img" 등의 엔드포인트 목록 보임

❌ 404 에러 또는 페이지 안 열리면:
   → 4.2 단계를 다시 확인하세요
```

---

## 5. 웹사이트와 연결 및 자동 모델 전환 설정

### 5.1 웹사이트 자동 모델 전환 기능

```
🎨 우리 웹사이트의 스마트 기능:

사용자가 스타일을 선택하면 자동으로 최적의 모델을 사용합니다!

Juggernaut XL 사용 (7가지 스타일):
✅ 한국야담: 고퀄리티 웹툰
✅ 한국야담: 동화 일러스트  
✅ 한국야담: 전통 수묵화
✅ 한국야담: 심플 2D 만화
✅ 일본 실사: 다큐멘터리 포토
✅ 시네마틱: 영화 실사
✅ 시네마틱: 판타지/SF

Animagine XL 자동 전환 (2가지 스타일):
🎌 일본 애니: 감성 애니메이션 ← 자동 전환!
🎌 일본 애니: 극화체 애니메이션 ← 자동 전환!

💡 사용자는 스타일만 선택하면 됩니다!
💡 웹사이트가 자동으로 최적의 모델을 선택해서 요청합니다!
```

### 5.2 Gemini API 키 입력 (선택사항)

```
📍 웹사이트에서:

1. https://mislgom-miseulgom-image-generator.vercel.app/ 접속
2. 좌측 사이드바 스크롤 다운
3. "⚙️ 고급 설정" 섹션 찾기
4. "Gemini API 키" 입력란에 API 키 입력
   (없으면 규칙 기반 분석 사용 가능)

💡 Gemini API 키 발급:
- 사이트: https://makersuite.google.com/app/apikey
- Google 계정으로 로그인
- "API 키 만들기" 클릭
- 생성된 키 복사해서 웹사이트에 입력
```

### 5.2 연결 테스트

```
📍 웹사이트에서:

1. F12 키 눌러 개발자 도구 열기
2. "Console" 탭 클릭
3. 다음 코드 입력 후 Enter:

fetch('http://localhost:7860/sdapi/v1/sd-models')
  .then(r => r.json())
  .then(data => console.log('연결 성공:', data))
  .catch(err => console.error('연결 실패:', err));

✅ 성공 시: "연결 성공:" 메시지와 함께 모델 목록 출력
❌ 실패 시: "연결 실패: Failed to fetch" 또는 CORS 에러
   → Forge의 --cors-allow-origins=* 설정 확인
```

---

## 6. 첫 이미지 생성 테스트

### 6.1 대본 입력

```
📍 웹사이트에서:

1. 상단 "📝 대본 입력" 섹션
2. "Intro (콜드오픈)" 탭 선택
3. 테스트 대본 입력:

할머니가 부엌에서 김치찌개를 끓이고 있다.
창문으로 햇살이 들어온다.

4. 입력 완료
```

### 6.2 등장인물 생성

```
📍 웹사이트에서:

1. "🔍 종합 대본 분석" 버튼 클릭
2. 대본 분석 중... (Gemini API 사용 시 10-30초)
3. "👥 등장인물" 섹션으로 자동 이동
4. 추출된 등장인물 확인 (예: "할머니")
5. "🎨 등장인물 이미지 생성" 버튼 클릭
6. 이미지 생성 시작!

⏱️ 생성 시간: 10-30초 (RTX 3070 Ti 기준)
```

### 6.3 생성 확인

```
✅ 성공 시:
- 등장인물 카드에 이미지가 표시됨
- 이름, 설명, 프롬프트 표시
- 이미지 클릭 시 크게 보기 가능

❌ 실패 시:
- 토스트 메시지: "이미지 생성 실패"
- Console에 에러 메시지 확인
- 8번 "문제 해결" 참고
```

### 6.4 애니메이션 스타일 테스트 (중요!)

```
📍 Animagine XL 모델 자동 전환 테스트:

1. 웹사이트 좌측 사이드바
2. "🎨 이미지 스타일" 섹션 찾기
3. 스타일 변경:
   "일본 애니: 감성 애니메이션" 선택 (클릭)
4. 대본 다시 입력 또는 수정:

소녀가 벚꽃나무 아래에서 미소 짓고 있다.
햇살이 머리카락을 비춘다.

5. "🔍 종합 대본 분석" 버튼 클릭
6. 등장인물 추출 확인 (예: "소녀")
7. "🎨 등장인물 이미지 생성" 버튼 클릭

⏱️ 생성 중:
- 웹사이트가 자동으로 Animagine XL 모델로 전환 요청
- Forge가 모델 전환 (10-20초)
- 애니메이션 스타일 이미지 생성 (10-30초)

✅ 성공 확인:
- 이미지가 애니메이션 스타일로 생성됨
- 더 선명한 선, 애니메이션 특유의 색감
- 눈, 머리카락 등 애니메이션 특징이 잘 나타남

💡 이제 Juggernaut XL과 Animagine XL 두 모델 모두 사용 가능합니다!
```

### 6.5 스타일별 모델 전환 확인

```
📍 F12 Console에서 확인 (선택):

1. 웹사이트에서 F12 키
2. Console 탭 클릭
3. 이미지 생성 시 로그 확인:

스타일 = "한국야담: 고퀄리티 웹툰"
→ Console: "Using model: Juggernaut XL"

스타일 = "일본 애니: 감성 애니메이션"  
→ Console: "Using model: Animagine XL"
→ Console: "Model switched successfully"

✅ 자동 모델 전환이 정상 작동 중입니다!
```

---

## 7. 고급 설정 (선택)

### 7.1 애니메이션 모델 확인 및 활용

```
✅ 이미 Animagine XL 설치 완료!

3단계에서 이미 Animagine XL을 설치했으므로:
- ✅ 모델 파일 위치 확인됨
- ✅ Forge에 로드됨  
- ✅ 웹사이트에서 자동 전환 가능
- ✅ 추가 작업 필요 없음!

💡 활용 팁:

애니메이션 스타일 사용 시:
1. 웹사이트에서 "일본 애니" 스타일 선택
2. 자동으로 Animagine XL 모델 사용
3. 더 나은 애니메이션 품질 생성

비교:
- Juggernaut XL로 애니: 70-80점
- Animagine XL로 애니: 90-95점!

추천 프롬프트 (애니 스타일):
- "anime style, detailed eyes, colorful hair"
- "manga style, dynamic pose, expressive"
- "japanese animation, cinematic lighting"

💡 웹사이트가 자동으로 최적의 프롬프트를 생성해줍니다!
```

### 7.2 추가 애니메이션 모델 (고급 사용자용)

```
📍 더 다양한 애니 스타일을 원하면:

CivitAI에서 추가 모델 다운로드:
1. Pony Diffusion XL - 퍼니/케모노 특화
2. CounterfeitXL - 2D 애니메이션
3. AnythingXL - 범용 애니메이션

다운로드 후:
- 같은 방법으로 models/Stable-diffusion/ 폴더에 넣기
- Forge 재시작
- Checkpoint 드롭다운에서 선택 가능

⚠️ 주의: 웹사이트는 Juggernaut XL과 Animagine XL만 자동 전환
   다른 모델은 Forge에서 수동으로 선택해야 함
```

### 7.2 ADetailer Extension 설치 (얼굴 보정)

```
📍 Forge 브라우저 화면에서:

1. 상단 "Extensions" 탭 클릭
2. "Available" 탭 선택
3. 검색창에 "adetailer" 입력
4. "adetailer" 찾아서 "Install" 클릭
5. 설치 완료 후 "Installed" 탭으로 이동
6. "Apply and restart UI" 버튼 클릭
7. Forge 자동 재시작

💡 이제 얼굴이 더 선명하게 생성됩니다!
```

### 7.3 VAE 설정 (색감 개선)

```
📍 Forge 브라우저 화면에서:

1. 상단 "Settings" 탭 클릭
2. 왼쪽 "Stable Diffusion" 섹션
3. "SD VAE" 드롭다운에서:
   - "Automatic" 선택 (권장)
   또는
   - "vae-ft-mse-840000-ema-pruned.safetensors" 선택
4. 상단 "Apply settings" 버튼 클릭
5. "Reload UI" 버튼 클릭

💡 색감이 더 선명하고 자연스러워집니다!
```

---

## 8. 문제 해결

### 8.1 "연결 실패" 에러

```
증상: 웹사이트에서 이미지 생성 시 "Failed to fetch" 에러

해결책:

1. Forge가 실행 중인지 확인
   → http://localhost:7860 브라우저에서 열리는지 확인

2. API가 활성화되었는지 확인
   → http://localhost:7860/docs 접속 테스트

3. CORS 설정 확인
   → webui-user.bat에 --cors-allow-origins=* 있는지 확인

4. 방화벽 확인
   → Windows Defender 방화벽에서 Python 허용 확인
```

### 8.2 "Out of memory" 에러

```
증상: 이미지 생성 중 메모리 부족 에러

해결책:

1. 해상도 낮추기
   → 웹사이트에서 1:1 (1024x1024) 선택

2. --medvram 옵션 추가
   → webui-user.bat에 추가:
   set COMMANDLINE_ARGS=--api --cors-allow-origins=* --medvram

3. 다른 프로그램 종료
   → 크롬, 게임 등 GPU 사용하는 프로그램 종료
```

### 8.3 모델이 안 보임

```
증상: Forge에서 Checkpoint 드롭다운이 비어있음

해결책:

1. 모델 파일 위치 확인
   → C:\StabilityMatrix\Packages\stable-diffusion-webui-forge\models\Stable-diffusion\
   → juggernautXL_v9.safetensors 파일 있는지 확인

2. 파일 확장자 확인
   → .safetensors 또는 .ckpt 파일이어야 함
   → .part 또는 .crdownload 파일은 다운로드 미완성

3. Forge 재시작
   → Stability Matrix에서 "Stop" 후 "Launch"
```

### 8.4 이미지 생성이 너무 느림

```
증상: 이미지 1장 생성에 1분 이상 소요

해결책:

1. GPU 사용 확인
   → 작업 관리자 (Ctrl+Shift+Esc) 열기
   → "성능" 탭 → "GPU" 확인
   → 이미지 생성 중 GPU 사용률 70% 이상이어야 함

2. --xformers 옵션 추가 (속도 향상)
   → webui-user.bat에 추가:
   set COMMANDLINE_ARGS=--api --cors-allow-origins=* --xformers

3. 다른 GPU 사용 프로그램 종료
```

### 8.5 한글이 깨짐

```
증상: 웹사이트에서 한글이 이상하게 보임

해결책:

1. 브라우저 캐시 삭제
   → Ctrl+Shift+Delete → 캐시 이미지 및 파일 삭제

2. 브라우저 인코딩 확인
   → Chrome: 설정 → 고급 → 언어 → "한국어" 있는지 확인

3. Vercel 재배포
   → GitHub에서 vercel.json 확인 후 재커밋
```

---

## 9. 일상 사용 워크플로우

### 9.1 매일 시작할 때

```
1단계: Forge 실행
  → Stability Matrix 열기
  → Packages 탭에서 Forge "Launch" 클릭
  → 브라우저 자동으로 열림 (http://localhost:7860)

2단계: 웹사이트 접속
  → https://mislgom-miseulgom-image-generator.vercel.app/

3단계: 대본 입력 및 생성
  → 대본 입력 → 분석 → 이미지 생성

4단계: 작업 완료 후
  → 프로젝트 저장 (자동 저장됨)
  → Forge는 그냥 두거나 종료
```

### 9.2 프로젝트 저장/불러오기

```
📍 웹사이트에서:

저장:
1. 상단 "📁 프로젝트 관리" 아이콘 클릭
2. "💾 저장" 클릭
3. 프로젝트명 입력
4. 자동으로 브라우저 LocalStorage에 저장

불러오기:
1. "📁 프로젝트 관리" → "📂 불러오기"
2. 저장된 프로젝트 목록에서 선택
3. 자동으로 대본, 등장인물, 스토리보드 복원

내보내기 (백업):
1. "📁 프로젝트 관리" → "📤 프로젝트 내보내기 (JSON)"
2. JSON 파일 다운로드
3. 다른 컴퓨터로 이동 가능
```

---

## 10. 성능 최적화 팁

### 10.1 권장 설정 (RTX 3070 Ti 기준)

```
📍 webui-user.bat 최종 권장 설정:

set COMMANDLINE_ARGS=--api --cors-allow-origins=* --xformers --medvram-sdxl

설명:
--api : API 활성화
--cors-allow-origins=* : 웹사이트 연결 허용
--xformers : 속도 20-30% 향상
--medvram-sdxl : SDXL 모델 사용 시 메모리 최적화
```

### 10.2 이미지 생성 속도 비교

```
RTX 3070 Ti 8GB 기준:

해상도 1024x1024 (1:1):
- 기본 설정: 약 15-20초
- xformers 적용: 약 10-15초

해상도 1344x768 (16:9):
- 기본 설정: 약 20-30초
- xformers 적용: 약 15-20초

💡 Batch Size 1 권장 (여러 장 동시 생성 시 메모리 부족 가능)
```

---

## 11. 체크리스트

### 설치 완료 체크리스트

```
✅ 1단계: 웹사이트 배포
  □ Vercel 배포 완료
  □ 웹사이트 정상 접속 확인
  □ 한글 제대로 보임

✅ 2단계: Stable Diffusion 설치
  □ Stability Matrix 설치
  □ Forge 설치 완료
  □ Juggernaut XL 모델 다운로드 (6-7GB)
  □ Animagine XL 모델 다운로드 (6-7GB) ← 필수!
  □ 두 모델 파일 올바른 폴더에 배치
  □ Forge에서 두 모델 모두 확인됨

✅ 3단계: 연결 설정
  □ API 활성화 (--api 옵션)
  □ CORS 설정 (--cors-allow-origins=*)
  □ 속도 최적화 (--xformers 옵션)
  □ http://localhost:7860/docs 접속 확인

✅ 4단계: 기본 테스트
  □ 대본 입력 테스트
  □ 등장인물 이미지 생성 테스트 (웹툰 스타일)
  □ 스토리보드 생성 테스트
  □ 이미지 다운로드 테스트

✅ 5단계: 애니메이션 테스트 (중요!)
  □ "일본 애니: 감성 애니메이션" 스타일 선택
  □ 애니 캐릭터 이미지 생성 테스트
  □ Animagine XL 자동 전환 확인
  □ 애니 품질 확인 (선명한 눈, 애니 스타일)

✅ 6단계: 최적화 (선택)
  □ ADetailer 설치 (얼굴 보정)
  □ VAE 설정 (색감 개선)
  □ 추가 애니 모델 다운로드 (선택)
```

---

## 12. 자주 묻는 질문 (FAQ)

### Q1: 컴퓨터를 끄면 이미지를 못 만드나요?
```
A: 네, Stable Diffusion(Forge)이 설치된 컴퓨터가 켜져있고 
   Forge가 실행 중이어야 이미지를 만들 수 있습니다.
   
   웹사이트는 어디서든 접속 가능하지만,
   이미지 생성은 Forge가 있는 컴퓨터에서만 됩니다.
```

### Q2: 다른 컴퓨터에서도 사용하려면?
```
A: 2가지 방법:
   
   1. 다른 컴퓨터에도 똑같이 설치 (권장)
      - Stability Matrix + Forge 설치
      - 모델 다운로드
      - 독립적으로 사용 가능
   
   2. 네트워크로 연결 (고급)
      - Forge 실행 시 --listen 옵션 추가
      - 같은 네트워크의 다른 PC에서 접속
      - 보안 주의 필요
```

### Q3: 모델을 여러 개 사용할 수 있나요?
```
A: 네! 가능합니다.
   
   기본 설치 (권장):
   ✅ Juggernaut XL - 실사, 웹툰, 동화, 수묵화, 2D, 다큐, 영화, SF (7종)
   ✅ Animagine XL - 애니메이션 (2종) ← 자동 전환!
   
   추가 모델 설치 가능:
   - models/Stable-diffusion/ 폴더에 추가 모델 넣기
   - Forge에서 Checkpoint 드롭다운으로 수동 선택
   
   ⚠️ 주의:
   - 웹사이트 자동 전환은 Juggernaut XL과 Animagine XL만 지원
   - 다른 모델은 Forge에서 수동으로 전환해야 함
   - 한 번에 1개 모델만 로드됨 (전환 시 10-20초 소요)
   
   모델 전환 방법:
   - Forge 브라우저 화면 상단
   - "Stable Diffusion checkpoint" 드롭다운 클릭
   - 원하는 모델 선택
```

### Q4: 애니메이션 품질이 안 좋아요
```
A: 다음을 확인하세요:

   1. Animagine XL 설치 확인
      → models/Stable-diffusion/ 폴더에 animagineXL_v31.safetensors 있는지
   
   2. 웹사이트에서 애니 스타일 선택했는지
      → "일본 애니: 감성 애니메이션" 또는 "일본 애니: 극화체 애니메이션"
   
   3. Forge에서 모델 로드 확인
      → Console 로그에서 "Loading model..." 메시지 확인
   
   4. 프롬프트 확인
      → 웹사이트가 자동으로 애니 최적화 프롬프트 생성
      → "anime style, detailed eyes" 등 포함되어야 함
   
   5. Juggernaut XL 사용 중이면
      → 애니 품질 70-80% (나쁘지 않지만 최고는 아님)
      → Animagine XL 사용 시 90-95% (최고 품질)
```

### Q5: API 키가 필요한가요?
```
A: 부분적으로 필요합니다.

   Gemini API (선택):
   - 대본 분석 시 더 정확한 등장인물 추출
   - 장면 수 자동 계산
   - 없으면 규칙 기반 분석 사용 (기본 기능)
   - 무료: 월 1,500회

   Stable Diffusion:
   - API 키 필요 없음 (로컬 실행)
   - 완전 무료, 무제한
```

### Q5: 이미지 저작권은 어떻게 되나요?
```
A: 로컬에서 생성한 이미지는:
   
   ✅ 상업적 사용 가능 (모델 라이선스 확인 필요)
   ✅ 저작권은 생성자(사용자)에게 있음
   ✅ 자유롭게 편집, 배포 가능
   
   단, 사용한 모델의 라이선스를 확인하세요:
   - Juggernaut XL: CreativeML OpenRAIL-M (상업 사용 가능)
   - Animagine XL: Fair AI Public License (상업 사용 가능)
```

---

## 13. 추가 리소스

### 공식 문서
```
Stable Diffusion WebUI Forge:
https://github.com/lllyasviel/stable-diffusion-webui-forge

Stability Matrix:
https://lykos.ai/

AUTOMATIC1111 Wiki:
https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki
```

### 모델 다운로드 사이트
```
CivitAI: https://civitai.com
HuggingFace: https://huggingface.co/models
```

### 커뮤니티
```
Reddit r/StableDiffusion:
https://reddit.com/r/StableDiffusion

Discord (Stable Diffusion):
https://discord.gg/stablediffusion
```

---

## 14. 연락처 및 지원

```
웹사이트 문제:
- GitHub Issues: [저장소 주소]
- 또는 젠스파크 대화 계속하기

Stable Diffusion 문제:
- Forge GitHub Issues
- Reddit 커뮤니티
```

---

## 📌 마지막 체크

**모든 준비가 완료되었다면:**

1. ✅ Forge 실행 중 (http://localhost:7860)
2. ✅ Juggernaut XL 모델 로드됨
3. ✅ API 활성화됨 (/docs 접속 가능)
4. ✅ 웹사이트 접속 가능
5. ✅ 테스트 이미지 생성 성공

**축하합니다! 🎉**
**이제 무료로 무제한 AI 이미지를 생성할 수 있습니다!**

---

**문서 버전: 2.0.1**
**최종 업데이트: 2026-01-17**
**작성자: 미슬곰 이미지 생성기 팀**
